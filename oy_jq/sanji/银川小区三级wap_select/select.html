<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title> 三级联动测试 </title>
	</head>
<body>
	<form action="" method="post">
		<p class="m_form_group">
			<select name="city" id="city" class="form_control">
				<option value="">请选择您所在的城市</option>
				<option value="0">银川市</option>
				<option value="1">吴忠市</option>
				<option value="2">石嘴山市</option>
				<option value="3">固原市</option>
				<option value="4">中卫市</option>
			</select>
		</p>
		<p class="m_form_group">
			<select name="county" id="county" class="form_control">
				<option value="">请选择您所在的区域</option>
			</select>
		</p>
		<p class="m_form_group">
			<select name="estate" id="estate" class="form_control">
				<option value="">请选择您所在的小区</option>
			</select>
		</p>
	</form>
    
	<script src="jquery-1.3.2.min.js"></script>
    <script>
    	var NxCityJson=[{"region":"银川市","area":[{"name":"贺兰县","small":["海亮国际","月湖湾小区","天骏城市花园","永泰花园","典雅居小区","月湖名邸","天骏森林海","天骏城市花园小区","兰亭花园小区","中恒花园小区","东方嘉园小区","安鑫花园小区","惠泽园小区","宁北长城汽车专营有限公司","太阳城C区","太阳城A区","月湖湾小区"]},{"name":"金凤区","small":["安怡家园","亲水名邸","未来城","金凤万达广场","幸福岛小区","森林观邸小区","国贸新天地","紫园南区","紫园三区","紫园一区","紫园二区","中海国际莲湖花园","中海国际莲湖花园二阶段","阳光美林小区","恒大名都","金凤万达中心","万国香苑","蓝山名邸","聚和公寓","紫馨苑小区","云开苑小区","美林湾小区","臻君豪庭小区","溪城华府小区","五里水乡小区","香溪美地小区","颐和城府小区","湖畔嘉苑小区","五里湖畔小区","香树花城小区"]},{"name":"灵武市","small":["黄河小镇别墅区","枣园湖畔","芙蓉苑","西苑小区","灵春花园","清华苑","北苑小区","南苑小区","紫苑小区"]},{"name":"宁东区","small":["东方龙公寓","锦龙公寓","石槽村煤矿"]},{"name":"西夏区","small":["同心苑小区","学明园小区","叠翠园三期","家林苑二期","花半里小区","金冠华庭","锦润秀府","盛世金橡花园","惠民小区","康庄小区","梦园小区","梦圆西小区","西花园小区","祥和小区","华西村","燕宝花园","丽园小区","沁园小区","胜利小区","欣地苑小区","朔方小区","兴洲花园小区","玫瑰园小区","盈北苑","丽子家园","御景花园","佳乐苑","长乐苑","祥乐居","西夏万达","橡胶厂A区","澳海澜庭","西华苑小区","橡胶厂B区","梧桐花园小区","学知园小区","舜天嘉园小区","共享家园小区"]},{"name":"兴庆区","small":["海宝小区","海宝小区福地苑","海宝小区福天苑","神剑苑","安和园小区","康华苑小区","康怡苑小区","鸣翠花园","清苑丰景小区","光耀上城","长信春天","永乐家园小区","城市1号小区","观湖壹号","客服中心","清苑小区","银基花都小区","安泰花园小区","中房富力城","江南水乡小区","清河坊小区","新世纪花园小区","在水一方小区","星光华小区","建发城市花园小区"]},{"name":"永宁县","small":["兰花花公寓","原隆村","劳务安置小区","李俊安置小区","永青花园小区","实诚小区","望远人家C区","祥和名邸小区","望远人家A区","三里屯小区","望远人家B区","玉泉小区"]}]},{"region":"吴忠市","area":[{"name":"利通区","small":["绿地园小区","星河国际","星河嘉城","柴园村","金塔花园小区","水岸帝景B区","恒大名都","金星花园一区","金星花园二区","金星花园三区","秦桥五星家园","金塔小区","利通区朝阳小区B2区","利通区永昌花苑小区","利通区宜人世家小区","工行文明小区","吴忠市东方花园","吴仪北苑","利通区光耀商贸城","盛隆达物流园","飞翔宾馆","回乐饭店","回乐府小区","朝阳家园","小寨子","吴仪南苑","红星家园","盛世花园","中华中心村C区","利宁家园","明珠苑一期","中华苑","李园一期","李园二期","梁湾中心村"]},{"name":"同心县","small":["同心县东苑小区","同心县银水北苑","阿格宁宾馆","月雅苑","富康小区","豫园小区","富兴小区"]},{"name":"盐池县","small":["步行街商业房","翔宇宾馆","北塘移民村","大水坑商业街","西苑小区","永泰宾馆","盐池供电小区","福星楼小区","盐池金裕海化工有限公司","占国商住楼","杨志彬商住楼","教育小区","沁园小区","仁和园小区","双鑫园小区","鑫鑫家园","昊湖小区","大水坑源通通讯","双鑫园小区","鑫鑫家园","昊湖小区","金融大厦小区","昊湖小区","盛世华庭"]},{"name":"红寺堡区","small":["鸿宇通讯加盟店南","鸿宇通讯加盟店东","香园村东庄","香园村西庄","香园村东庄","香园村西庄","恒馨园"]},{"name":"青铜峡市","small":["康乐花园B区","青铜峡和府小区","康乐花园D区","青铜峡小坝五队","青铜峡铝厂家属楼","粮贸小区","水岸世家","青铜峡水岸世家","龙海花园","天香园"]}]},{"region":"石嘴山","area":[{"name":"惠农区","small":["富强小区","黄金水岸恒源","金福小区","广园小区","警苑小区","金能小区","广南小区","物建小区","地税局家属楼","水韵名都","静安市场","静安三区","静安二区","静安一区","北山胡同","嘉园小区-中兴","清真寺-中兴","憩园小区-中兴","中街花园-中兴","矿中601小区-中兴","经纬摩尔-中兴","清华街沿街商铺-中兴","谦园小区","红宝家园","圆富小区","惠安沿街商铺","政府家属院","园艺新村","园丁小区","瑞祥苑","惠通花园","清清园","滨河一号-中兴","嘉丰园","祥云世纪家园","水城民生","康欣宁河园","清华园","市医院家属院","佳苑小区","银河苑","恒享百货","山水华庭二期","泰和苑","华祥家园","康乐小区","泰和苑-三期","吉运88城市花园","山水华庭一期","柏斯特宾馆"]},{"name":"平罗县","small":["红星美凯龙","前进家园","前进医院家属楼","沙湖新村","大远小区","平安北区","平安南区","光辉城市花园","新立小区-中兴","平罗新世纪家园-中兴","向阳巷小区","增瑞汽车城","农贸市场","畅瑞物流","金水湖畔","桥馨家园","星河小区","世锦名都","府地金源","西花苑","东花苑"]},{"name":"大武口区","small":["理工学院家属楼","尚层龙城","温州园","电厂小区","枫情水岸","凯旋城","供电小区","富民村","枣香村","公安小区","丽景花园","万盛花园","电厂大板楼","供电分局小区","千禧园","沁春园","千汇小区","永乐园","汉唐庭院","汉唐庭院","锦绣苑","大武口新世纪花园","瀛洲花园","思源小区","锦屏小区","运通小区","鑫鑫家园","民安小区","欣安小区","新月小区","兴隆园","都市花园","文安小区-中兴","长生花园-中兴","金山小区-中兴","永欣园","金国威-中兴","大明手机城-中兴","沐春园","星湖春天","理工学院公寓楼","众安家园","荣景花园","半岛观邸-中兴","锦馨花园-中兴","绿城雅居","石嘴山移动分公司","阳光苑","曙光华庭","春晖园","星海时代-中兴","延河华府","紫郡新城","祥和村","移动公司家属楼","恒大绿洲","星海明珠","府佑水乡","蓝山雅居","红领喜来","民生小区","金海国际","沐恩新居B区","前进小区","大湖公馆","太西花园","禹新小区-中兴","万博国际汽配城","沐恩新居A区","府佑水乡一期"]}]},{"region":"固原市","area":[{"name":"隆德县","small":["御景鸿府廉租房小区","龙城世家小区","博文官邸小区","红崖廉租房小区","御景鸿府小区","隆德县联财乡街道","沙塘街道","杨河乡街道","金湖兰庭","东关小区","阳光花园","西花苑"]},{"name":"彭阳县","small":["民乐小区","彭阳县红河镇河塬村","彭阳县红河镇汶沟村文渠队","和谐村","杨坪村","北洼村","草庙乡街道","南苑小区"]},{"name":"三营区","small":["三营区头营镇圆德村","石羊村","吴庄村"]},{"name":"西吉县","small":["鑫祥世城小区","西吉县平峰乡街道","牟荣村","震湖乡街道","新营乡街道","明月移民点","东花苑","钰秀家园","志方小区","润泽华府","丁香花园","金桥宾馆"]},{"name":"原州区","small":["朝阳欣居小区","丽景园","东城花园","六盘山热电厂","学府花园","博爱家园","华福御景天成","六盘山林业局小区","聚才园","山城名邸","移动家属院","邮政小区","碧水兰亭","东关村","人民医院家属院","通用机械厂小区","师范家属院","公安局家属院","公安局巷内","广电小区","水泥厂家属院","税苑小区","六盘山隧道家属院","土地局家属院","养蜂试验站","铁路小区门面","铁路小区","宁源小区","梅园小区","财政局家属院","宁新小区","老运输公司家属院","农行家属院","师专巷","卫生监督所家属院","水利小区","东扩小区","北新苑小区","北苑小区","和平小区","吉祥院","计生局家属院","康乐园","利民小区","憩苑小区","北关路住户","中山南街住户","和平门住户","兴学路住户","六盘山西路住户","靖朔门住户","崾岘村","大马庄","工商局家属院","南关路门面房","桃园小区","华祺公馆","金城花园","优山美地","卫生局家属院","荣华园","福馨园","民生苑南区","民生苑北区","中博嘉天下","湖滨园","太阳城北区","太阳城","南城路门面房","中山花园","茹河花园","华城国际","南苑府邸","东海园区","月牙路东海宋家巷一.二区","东海宋家巷","东海宋家巷四区"]},{"name":"泾源县","small":["泾河小区","荣盛嘉苑","西嘉苑","河北村","泾河源镇街道","金水苑","泾源移民中转房"]}]},{"region":"中卫市","area":[{"name":"海原县","small":["新源村","利民小区","东街廉租房"]},{"name":"中宁县","small":["金岸家园","喊叫水贺家口子","金岸家园B区","清水河林场","沃尔德大酒店","华宇·丽景豪城","锦绣园AB区","锦绣园C区","世芳豪庭小区","金岸娇子","雅泰城市花园","金庭雅园","福康花园","乐杞生物","杞乡经典A区","杞乡经典B区","杞乡经典C区","京能光伏电厂","南河花园","红宝花园北区","开元盛世花园"]},{"name":"沙坡头区","small":["幸福里小区","商都小区","农行家属楼","商业北街","团结小区","丽景苑小区","东园小区","华西小区","西园小区","广厦汽车服务中心","汉代兵营酒店","森林木足道","绿洲大酒店","华瑞苑小区","众一山水小区","世纪花园A小区","世纪花园C小区","世纪花园D小区","世纪花园B小区","瑞丰家园小区","雍楼村","文萃苑","书香.滨河世纪园小区","文萃家园","文安苑小区","东方家园","长河小区","黄河花园A","明珠小区","恒基伟业3号别墅","恒基伟业5号别墅","恒基伟业8号别墅","恒基伟业2号小别墅","恒基伟业4号小别墅","恒基伟业7号小别墅","恒基伟业8号小别墅","恒基伟业11号小别墅","恒基伟业13号小别墅","枣林新村","安和世家","新花园","新敦花园","应理家园","三和家园","南关新村","禹都新村","幸福立方","祥瑞小区","官桥花园","黄河花园"]}]}];
    	var sel1 = $("#city"), sel2 = $("#county"), sel3 = $("#estate");
		var selCityNum, selCountyNum, thisName;
		sel1.change(function() {
		    sel2.html("<option value=''>请选择您所在的区域</option>");
		    sel3.html("<option value=''>请选择您所在的小区</option>");
		    var txt = $("#city option:selected").val();
		    if (txt == "") {
		        return;
		    } else {
		        countySel(txt); // 添加县级数据
		        selCityNum = txt;
		    }
		});
		sel2.change(function() {
		    sel3.html("<option value=''>请选择您所在的小区</option>");
		    var txt = $("#county option:selected").val();
		    if (txt == "") {
		        return;
		    } else {
		        console.log(txt);
		        selCountyNum = txt;
		        thisName = NxCityJson[selCityNum].area[selCountyNum].small; // 定位到县的对象
		        for (var o in NxCityJson[selCityNum].area[selCountyNum].small) {
		            appendOptionTo(sel3, thisName[o], o); // 添加小区信息
		        }
		    }
		})
		// 选择县
		function countySel(txt) {
		    for (var o in NxCityJson[txt].area) {
		        thisName = NxCityJson[txt].area[o]; // 定位到县的对象
		        appendOptionTo(sel2, thisName.name, o);
		    }
		};
		// 添加option
		function appendOptionTo(ob, txt, v) {
		    var opt = $("<option>").text(txt).val(v);
		    opt.appendTo(ob);
		}
    </script>
</body>
</html>